<%- contentFor('body') %>

<div class="row">
  <div class="col-md-12 mb-4">
    <div class="d-flex justify-content-between align-items-center">
      <a href="/relocations/view/<%= relocation.id %>" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Back to Details
      </a>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-8 mx-auto">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">Edit Relocation</h5>
      </div>
      <div class="card-body">
        <form action="/relocations/edit/<%= relocation.id %>" method="POST">
          <div class="row g-3">
            <!-- Resource Information -->
            <div class="col-md-6">
              <label for="resourceName" class="form-label">Resource Name *</label>
              <input type="text" class="form-control" id="resourceName" name="resourceName" 
                     value="<%= relocation.resourceName %>" required>
            </div>
            
            <div class="col-md-6">
              <label for="jobTitle" class="form-label">Job Title *</label>
              <input type="text" class="form-control" id="jobTitle" name="jobTitle" 
                     value="<%= relocation.jobTitle %>" required>
            </div>
            
            <!-- Client and End Date -->
            <div class="col-md-6">
              <label for="client" class="form-label">Client *</label>
              <input type="text" class="form-control" id="client" name="client" 
                     value="<%= relocation.client %>" required>
            </div>
            
            <div class="col-md-6">
              <label for="estimatedEndDate" class="form-label">Estimated End Date *</label>
              <input type="date" class="form-control" id="estimatedEndDate" name="estimatedEndDate" 
                     value="<%= relocation.estimatedEndDate.toISOString().split('T')[0] %>" required>
            </div>
            
            <!-- Last Known Information and Relocate -->
            <div class="col-md-12">
              <label for="lastKnownInformation" class="form-label">Last Known Information</label>
              <textarea class="form-control" id="lastKnownInformation" name="lastKnownInformation" 
                        rows="3"><%= relocation.lastKnownInformation %></textarea>
            </div>
            
            <div class="col-md-6">
              <label for="relocate" class="form-label">Relocate? *</label>
              <select class="form-select" id="relocate" name="relocate" required>
                <option value="Yes" <%= relocation.relocate === 'Yes' ? 'selected' : '' %>>Yes</option>
                <option value="No" <%= relocation.relocate === 'No' ? 'selected' : '' %>>No</option>
              </select>
            </div>
            
            <div class="col-md-6">
              <label for="status" class="form-label">Status *</label>
              <select class="form-select" id="status" name="status" required>
                <% statusOptions.forEach(function(status) { %>
                  <option value="<%= status %>" <%= relocation.status === status ? 'selected' : '' %>>
                    <%= status %>
                  </option>
                <% }); %>
              </select>
            </div>
            
            <div class="col-12 mt-4">
              <div class="d-flex justify-content-between">
                <a href="/relocations/view/<%= relocation.id %>" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary">Update Relocation</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>